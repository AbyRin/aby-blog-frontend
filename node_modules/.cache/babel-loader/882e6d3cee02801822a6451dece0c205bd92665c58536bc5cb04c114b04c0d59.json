{"ast":null,"code":"// 商店页面-功能模块: 电梯\n// 功能一: 页面滑动-显示/隐藏 (1)搜索栏; (2)电梯\n// 功能二: 点击 Top: 页面顶部\n(function () {\n  // 功能一: 页面滑动-显示/隐藏 (1)搜索栏; (2)电梯\n  // 获取元素\n  const search = document.querySelector('.search_div'); // (1)搜索栏\n  // const elevator = document.querySelector('.elevator')  // (2)电梯\n\n  // 1. 卷去html头部 到达 商品搜索条-顶部坐标 时，就显示 电梯导航\n  // 已改变方案\n\n  // 2. 卷去html头部 到达 商品搜索条-顶部坐标 时, 令 商品搜索条 的top = 0\n  window.addEventListener('scroll', function () {\n    // if (document.documentElement.scrollTop >= search.offsetTop) {\n    //     search.style.top = 0\n    // }\n    // console.log(search.style.position)\n    search.style.top = document.documentElement.scrollTop >= search.offsetTop ? 0 : '-100px';\n  });\n\n  // 功能二: 点击 Top: 页面顶部\n  const backTop = document.querySelector('#backTop');\n  if (backTop) {\n    backTop.addEventListener('click', function () {\n      window.scrollTo(0, 0);\n    });\n  }\n})();\n\n// 功能三: 点击分类 跳转到 对应页面 (与功能四相对)\n(function () {\n  const list = document.querySelector('.elevator_list');\n  if (list) {}\n})();\n\n// 功能四: 滑动页面 跳转到 对应分类 (与功能三相对)\nwindow.addEventListener('scroll', function () {\n  // 排他\n  const old = document.querySelector('.elevator_list .active');\n  if (old) {\n    old.classList.remove('active');\n  }\n\n  // 判断页面当前滑动的位置, 选择小盒子\n  // 获取分类 class 和 页面滑动像素 n\n  const class_1 = document.querySelector('.elevator_list li a[data-name = \"class_1\"]').dataset.name;\n  const class_2 = document.querySelector('.elevator_list li a[data-name = \"class_2\"]').dataset.name;\n  const class_3 = document.querySelector('.elevator_list li a[data-name = \"class_3\"]').dataset.name;\n  const class_4 = document.querySelector('.elevator_list li a[data-name = \"class_4\"]').dataset.name;\n  const n = document.documentElement.scrollTop;\n\n  // 匹配\n  if (n >= class_1.offsetTop && n < class_2.offsetTop) {\n    document.querySelector('[data-name = class_1]').classList.add('active');\n  } else if (n >= class_2.offsetTop && n < class_3.offsetTop) {\n    document.querySelector('[data-name = class_2]').classList.add('active');\n  } else if (n >= class_3.offsetTop && n < class_4.offsetTop) {\n    document.querySelector('[data-name = class_3]').classList.add('active');\n  } else if (n >= class_4.offsetTop) {\n    document.querySelector('[data-name = class_4]').classList.add('active');\n  }\n});","map":{"version":3,"names":["search","document","querySelector","window","addEventListener","style","top","documentElement","scrollTop","offsetTop","backTop","scrollTo","list","old","classList","remove","class_1","dataset","name","class_2","class_3","class_4","n","add"],"sources":["D:/IDEAWorkSpace/aby-blog-v2/src/js/store.js"],"sourcesContent":["// 商店页面-功能模块: 电梯\r\n// 功能一: 页面滑动-显示/隐藏 (1)搜索栏; (2)电梯\r\n// 功能二: 点击 Top: 页面顶部\r\n(function () {\r\n    // 功能一: 页面滑动-显示/隐藏 (1)搜索栏; (2)电梯\r\n    // 获取元素\r\n    const search = document.querySelector('.search_div')  // (1)搜索栏\r\n    // const elevator = document.querySelector('.elevator')  // (2)电梯\r\n\r\n    // 1. 卷去html头部 到达 商品搜索条-顶部坐标 时，就显示 电梯导航\r\n    // 已改变方案\r\n\r\n    // 2. 卷去html头部 到达 商品搜索条-顶部坐标 时, 令 商品搜索条 的top = 0\r\n    window.addEventListener('scroll', function () {\r\n        // if (document.documentElement.scrollTop >= search.offsetTop) {\r\n        //     search.style.top = 0\r\n        // }\r\n        // console.log(search.style.position)\r\n        search.style.top = document.documentElement.scrollTop >= search.offsetTop ? 0 : '-100px'\r\n    })\r\n\r\n    // 功能二: 点击 Top: 页面顶部\r\n    const backTop = document.querySelector('#backTop')\r\n    if (backTop) {\r\n        backTop.addEventListener('click', function () {\r\n          window.scrollTo(0, 0);\r\n        });\r\n    }\r\n})();\r\n\r\n// 功能三: 点击分类 跳转到 对应页面 (与功能四相对)\r\n(function () {\r\n    const list = document.querySelector('.elevator_list')\r\n    if (list) {\r\n\r\n    }\r\n    \r\n})();\r\n\r\n\r\n// 功能四: 滑动页面 跳转到 对应分类 (与功能三相对)\r\nwindow.addEventListener('scroll', function () {\r\n    // 排他\r\n    const old = document.querySelector('.elevator_list .active')\r\n    if (old) {old.classList.remove('active')}\r\n\r\n    // 判断页面当前滑动的位置, 选择小盒子\r\n    // 获取分类 class 和 页面滑动像素 n\r\n    const class_1 = document.querySelector('.elevator_list li a[data-name = \"class_1\"]').dataset.name\r\n    const class_2 = document.querySelector('.elevator_list li a[data-name = \"class_2\"]').dataset.name\r\n    const class_3 = document.querySelector('.elevator_list li a[data-name = \"class_3\"]').dataset.name\r\n    const class_4 = document.querySelector('.elevator_list li a[data-name = \"class_4\"]').dataset.name\r\n    const n = document.documentElement.scrollTop\r\n\r\n    // 匹配\r\n    if (n >= class_1.offsetTop && n < class_2.offsetTop) {\r\n        document.querySelector('[data-name = class_1]').classList.add('active')\r\n    } else if (n >= class_2.offsetTop && n < class_3.offsetTop) {\r\n        document.querySelector('[data-name = class_2]').classList.add('active')\r\n    } else if (n >= class_3.offsetTop && n < class_4.offsetTop) {\r\n        document.querySelector('[data-name = class_3]').classList.add('active')\r\n    } else if (n >= class_4.offsetTop) {\r\n        document.querySelector('[data-name = class_4]').classList.add('active')\r\n    }\r\n});"],"mappings":"AAAA;AACA;AACA;AACA,CAAC,YAAY;EACT;EACA;EACA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC,EAAE;EACtD;;EAEA;EACA;;EAEA;EACAC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,YAAY;IAC1C;IACA;IACA;IACA;IACAJ,MAAM,CAACK,KAAK,CAACC,GAAG,GAAGL,QAAQ,CAACM,eAAe,CAACC,SAAS,IAAIR,MAAM,CAACS,SAAS,GAAG,CAAC,GAAG,QAAQ;EAC5F,CAAC,CAAC;;EAEF;EACA,MAAMC,OAAO,GAAGT,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;EAClD,IAAIQ,OAAO,EAAE;IACTA,OAAO,CAACN,gBAAgB,CAAC,OAAO,EAAE,YAAY;MAC5CD,MAAM,CAACQ,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC,CAAC;EACN;AACJ,CAAC,EAAE,CAAC;;AAEJ;AACA,CAAC,YAAY;EACT,MAAMC,IAAI,GAAGX,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;EACrD,IAAIU,IAAI,EAAE,CAEV;AAEJ,CAAC,EAAE,CAAC;;AAGJ;AACAT,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,YAAY;EAC1C;EACA,MAAMS,GAAG,GAAGZ,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAC;EAC5D,IAAIW,GAAG,EAAE;IAACA,GAAG,CAACC,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;EAAA;;EAExC;EACA;EACA,MAAMC,OAAO,GAAGf,QAAQ,CAACC,aAAa,CAAC,4CAA4C,CAAC,CAACe,OAAO,CAACC,IAAI;EACjG,MAAMC,OAAO,GAAGlB,QAAQ,CAACC,aAAa,CAAC,4CAA4C,CAAC,CAACe,OAAO,CAACC,IAAI;EACjG,MAAME,OAAO,GAAGnB,QAAQ,CAACC,aAAa,CAAC,4CAA4C,CAAC,CAACe,OAAO,CAACC,IAAI;EACjG,MAAMG,OAAO,GAAGpB,QAAQ,CAACC,aAAa,CAAC,4CAA4C,CAAC,CAACe,OAAO,CAACC,IAAI;EACjG,MAAMI,CAAC,GAAGrB,QAAQ,CAACM,eAAe,CAACC,SAAS;;EAE5C;EACA,IAAIc,CAAC,IAAIN,OAAO,CAACP,SAAS,IAAIa,CAAC,GAAGH,OAAO,CAACV,SAAS,EAAE;IACjDR,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC,CAACY,SAAS,CAACS,GAAG,CAAC,QAAQ,CAAC;EAC3E,CAAC,MAAM,IAAID,CAAC,IAAIH,OAAO,CAACV,SAAS,IAAIa,CAAC,GAAGF,OAAO,CAACX,SAAS,EAAE;IACxDR,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC,CAACY,SAAS,CAACS,GAAG,CAAC,QAAQ,CAAC;EAC3E,CAAC,MAAM,IAAID,CAAC,IAAIF,OAAO,CAACX,SAAS,IAAIa,CAAC,GAAGD,OAAO,CAACZ,SAAS,EAAE;IACxDR,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC,CAACY,SAAS,CAACS,GAAG,CAAC,QAAQ,CAAC;EAC3E,CAAC,MAAM,IAAID,CAAC,IAAID,OAAO,CAACZ,SAAS,EAAE;IAC/BR,QAAQ,CAACC,aAAa,CAAC,uBAAuB,CAAC,CAACY,SAAS,CAACS,GAAG,CAAC,QAAQ,CAAC;EAC3E;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}