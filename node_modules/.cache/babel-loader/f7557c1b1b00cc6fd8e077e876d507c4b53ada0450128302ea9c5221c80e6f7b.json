{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/image/icon/icons8-triangle-96-up-white.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-649c4a52\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"topic_div\\\" data-v-649c4a52><!-- 话题开关 --><div class=\\\"filter_div\\\" data-v-649c4a52><div class=\\\"filter\\\" data-v-649c4a52>Serios</div><div class=\\\"filter\\\" data-v-649c4a52>Neutral</div><div class=\\\"filter\\\" data-v-649c4a52>Humorous</div></div></div>\", 1);\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"comment_container\\\" data-v-649c4a52><!-- 子区1：切换按钮：显示/隐藏 --><div class=\\\"toggle_bar\\\" data-v-649c4a52><img src=\\\"\" + _imports_0 + \"\\\" alt=\\\"\\\" data-v-649c4a52></div><!-- 子区2：文本 --><div class=\\\"text_bar\\\" data-v-649c4a52><!-- 文本框 --><div class=\\\"wrapper\\\" data-v-649c4a52><textarea name=\\\"\\\" id=\\\"text\\\" placeholder=\\\"各抒己见——\\\" maxlength=\\\"400\\\" data-v-649c4a52></textarea><button data-v-649c4a52>发布</button></div><!-- 字数统计 --><div class=\\\"wrapper\\\" data-v-649c4a52><span class=\\\"total\\\" data-v-649c4a52>0/400字</span></div></div></div>\", 1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ForumContainer = _resolveComponent(\"ForumContainer\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" 大模块（一）：话题区 \"), _createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" （1）话题筛选条 \"), _hoisted_2, _createVNode(_component_ForumContainer), _createVNode(_component_ForumContainer), _createVNode(_component_ForumContainer)]), _createCommentVNode(\" 大模块（二）：评论区 \"), _hoisted_3]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_ForumContainer","_hoisted_3"],"sources":["D:\\IDEAWorkSpace\\AbyBlog\\aby-blog-frontend\\src\\views\\Forum.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- 大模块（一）：话题区 -->\r\n        <div class=\"container\">\r\n            <!-- （1）话题筛选条 -->\r\n            <div class=\"topic_div\">\r\n                <!-- 话题开关 -->\r\n                <div class=\"filter_div\">\r\n                    <div class=\"filter\">Serios</div>\r\n                    <div class=\"filter\">Neutral</div>\r\n                    <div class=\"filter\">Humorous</div>\r\n                </div>\r\n            </div>\r\n\r\n            <ForumContainer></ForumContainer>\r\n            <ForumContainer></ForumContainer>\r\n            <ForumContainer></ForumContainer>\r\n        </div>\r\n\r\n        <!-- 大模块（二）：评论区 -->\r\n        <div class=\"comment_container\">\r\n            <!-- 子区1：切换按钮：显示/隐藏 -->\r\n            <div class=\"toggle_bar\"><img src=\"@/image/icon/icons8-triangle-96-up-white.png\" alt=\"\"></div>\r\n            \r\n            <!-- 子区2：文本 -->\r\n            <div class=\"text_bar\">\r\n                <!-- 文本框 -->\r\n                <div class=\"wrapper\">\r\n                    <textarea name=\"\" id=\"text\" placeholder=\"各抒己见——\" maxlength=\"400\"></textarea>\r\n                    <button>发布</button>\r\n                </div>\r\n                \r\n                <!-- 字数统计 -->\r\n                <div class=\"wrapper\">\r\n                    <span class=\"total\">0/400字</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ForumContainer from \"@/components/ForumContainer.vue\";\r\nexport default {\r\n    components: {\r\n        ForumContainer,\r\n    },\r\n\r\n    mounted() {\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            // 遍历所有 filter 并 绑定事件\r\n            const allFilters = document.querySelectorAll(\".filter\");\r\n            let clickedFilter = null;\r\n\r\n            allFilters.forEach(filter => {\r\n                filter.addEventListener('mouseover', function() {\r\n                    if (filter !== clickedFilter) {\r\n                        filter.style.backgroundColor = '#E8E8E8';\r\n                    }\r\n                });\r\n\r\n                filter.addEventListener('mouseout', function() {\r\n                    if (filter !== clickedFilter) {\r\n                        filter.style.backgroundColor = '#ffffff';\r\n                    }\r\n                });\r\n\r\n                filter.addEventListener('click', function() {\r\n                    if (clickedFilter) {\r\n                        // 移除上一个点击的 filter 样式\r\n                        // clickedFilter.style.fontWeight = 'normal';\r\n                        clickedFilter.style.color = '#31384f';\r\n                        clickedFilter.style.backgroundColor = '#ffffff';\r\n                    }\r\n                    // 添加样式到点击的 filter\r\n                    // filter.style.fontWeight = 'bold';\r\n                    filter.style.color = '#ffffff';\r\n                    filter.style.backgroundColor = '#4e9da9';\r\n\r\n                    // 更新 clickedFilter\r\n                    clickedFilter = filter;\r\n                });\r\n            });\r\n\r\n\r\n            // 子区1：切换按钮：显示/隐藏\r\n            // const commentContainer = document.querySelector(\"comment_container\");\r\n            // const toggle = document.querySelector(\"toggle_bar\");\r\n\r\n            // let isHidden = true; // 初始时隐藏\r\n\r\n            // toggle.addEventListener(\"click\", () => {\r\n            // if (isHidden) {\r\n            //     commentContainer.style.bottom = \"20px\"; // 点击显示\r\n            // } else {\r\n            //     commentContainer.style.bottom = \"0px\"; // 点击隐藏\r\n            // }\r\n            // isHidden = !isHidden; // 切换状态\r\n            // });\r\n\r\n            // 子区2：文本  \r\n            const text = document.getElementById('text');\r\n            const total = document.querySelector('.total');\r\n\r\n            if (text) {\r\n                // 文本域获得焦点时, total 显示\r\n                text.addEventListener('focus', function() {\r\n                    total.style.opacity = 1;\r\n                })\r\n                // 文本域失去焦点时，total 隐藏\r\n                text.addEventListener('blur', function() {\r\n                    total.style.opacity = 0;\r\n                })\r\n                // 字数统计\r\n                text.addEventListener('input', function() {\r\n                    // console.log(text.value.length);\r\n                    total.innerHTML = `${text.value.length}/400字`;\r\n                })\r\n            }\r\n\r\n            // 动态调整textarea的高度以适应内容\r\n            const textArea = document.getElementById(\"text\");\r\n            const textBar = document.querySelector(\".text_bar\");\r\n            const commentContainer = document.querySelector(\".comment_container\");\r\n            \r\n            if (textArea) {\r\n                textArea.addEventListener(\"input\", () => {\r\n                    textArea.style.height = \"auto\"; // 重置高度\r\n                    textArea.style.height = (textArea.scrollHeight) + \"px\"; // 设置高度为内容的实际高度\r\n                    \r\n                    // textArea达到最大高度，textBar和commentContainer高度不再随之变化\r\n                    const maxHeight = 128;\r\n                    if (textArea.scrollHeight <= maxHeight) {\r\n                        textBar.style.height = (textArea.scrollHeight + 18) + \"px\"; // 适当调整text_bar的高度\r\n                        commentContainer.style.height = (textArea.scrollHeight + 92) + \"px\"; // 调整comment_container的高度\r\n                    } else {\r\n                        textBar.style.height = (maxHeight + 18) + \"px\";\r\n                        commentContainer.style.height = (maxHeight + 92) + \"px\";\r\n                    }\r\n                });\r\n            }\r\n            \r\n\r\n            // // 仅在按下 回车键时 发布评论（使用结构: list）\r\n            // text.addEventListener('keyup', function(e) {\r\n            //     if (e.key === 'Enter') {\r\n            //         // 若用户输入不为空，就显示和打印\r\n            //         if (text.value.trim() !== '') {\r\n            //         // if (text.value.trim()) {  //另一种写法\r\n            //             item.style.display = 'block';\r\n            //             text.innerHTML = text.value;  // 用户输入内容\r\n            //         }\r\n            //         // 按下回车键，清空文本域\r\n            //         text.value = ''  // Tip: trim()方法，去除字符串前后的空格\r\n            //         // 按下回车后，字符统计复原\r\n            //         total.innerHTML = '0/400字'\r\n            //     }\r\n            // })\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody{\r\n    /*\r\n    background-size: cover;\r\n    background: url(\"../image/background/bg_black hole.jpg\") no-repeat fixed;\r\n    */\r\n    background: #dddddd;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: Center;\r\n}\r\n\r\ntd {\r\n    font-family: frutiger sans-serif;\r\n}\r\n\r\n/* 大模块（一）：话题区 */\r\n.container{\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: Center;\r\n\r\n    margin-top: 148px;\r\n\r\n    background-color: #eeeeee;\r\n    box-shadow: 2px 2px 2px #bdbdbd;\r\n}\r\n\r\n\r\n/* （1）话题筛选条 ------------------------------------------------------------------------- */\r\n.topic_div{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    width: 1600px;\r\n    height: 60px;\r\n\r\n    background-color: #31384f;\r\n}\r\n\r\n/* 话题筛选分支 */\r\n.filter_div {\r\n    display: flex;\r\n\r\n    width: auto;\r\n    height: 40px;\r\n\r\n    background-color: #ffffff;\r\n    border-radius: 20px;\r\n}\r\n.filter_div .filter {\r\n    width: auto;\r\n    height: 40px;\r\n\r\n    padding: 0 20px;\r\n    border-radius: 20px;\r\n\r\n    line-height: 40px;\r\n    transition: all 0.3s;\r\n    cursor: pointer;\r\n\r\n    font-weight: bold;\r\n    color: #31384f;\r\n}\r\n\r\n/* 大模块（二）： 评论功能 */\r\n.comment_container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    width: 1200px;\r\n    height: auto;\r\n\r\n    transition: bottom 0.3s;\r\n\r\n    /* 初始状态：隐藏于视口底部 */\r\n    position: fixed;\r\n    bottom: 0;\r\n    /* bottom: -300px; */\r\n}\r\n/* 子区1：切换按钮：显示/隐藏 */\r\n.toggle_bar {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    width: 140px;\r\n    height: 36px;\r\n    border: none;\r\n    border-radius: 10px 10px 0 0;\r\n\r\n    background-color: #2c9c92;\r\n    cursor: pointer;\r\n    \r\n    color: #ffffff;\r\n    font-size: 18px;\r\n}\r\n.toggle_bar img {\r\n    height: 22px;\r\n}\r\n/* 子区2：文本 */\r\n.text_bar {\r\n    width: 1200px;\r\n    padding: 20px 0;\r\n    border: none;\r\n    border-radius: 10px 10px 0 0;\r\n    \r\n    background-color: #2c9c92;\r\n    /* 注意：transition 导致闪光，效果不好 */\r\n    /* transition: all 0.3s; */\r\n    overflow: hidden;\r\n}\r\n/* 文本框 */\r\n.wrapper {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 1200px;\r\n\r\n    transition: all 0.5s;\r\n}\r\n.wrapper textarea {\r\n    width: 1000px;\r\n    height: auto;\r\n    max-height: 110px; /* 最大高度 */\r\n    padding: 10px;\r\n\r\n    border: none;\r\n    border-radius: 4px;\r\n\r\n    font-size: 16px;\r\n    \r\n    background: #f5f5f5;\r\n    transition: all 0.5s;\r\n    outline: none;\r\n    resize: none;\r\n    overflow-y: auto;\r\n\r\n    /* 添加以下两行 */\r\n    transition-property: height, max-height;\r\n    transition-timing-function: ease;\r\n    \r\n}\r\n/* 发布按钮 */\r\n.wrapper button {\r\n    width: 70px;\r\n    height: 50px;\r\n    margin-left: 10px;\r\n\r\n    border: none;\r\n    border-radius: 4px;\r\n\r\n    background-color: #31384f;\r\n    cursor: pointer;\r\n    transition: all 0.3s;\r\n\r\n    color: #fff;\r\n    font-size: 16px;\r\n}\r\n.wrapper button:hover {\r\n    font-weight: bold;\r\n    background-color: #f84f52;\r\n}\r\n/* 字数统计 */\r\n.wrapper .total {\r\n    margin-left: 880px;\r\n    color: #ffffff;\r\n\r\n    margin-top: 4px;\r\n    opacity: 0;\r\n    transition: all 0.5s;\r\n}\r\n</style>"],"mappings":";OAsByCA,UAAkD;;;EAnB9EC,KAAK,EAAC;AAAW;;;;;uBAF1BC,mBAAA,CAsCM,cArCFC,mBAAA,gBAAmB,EACnBC,mBAAA,CAcM,OAdNC,UAcM,GAbFF,mBAAA,cAAiB,EACjBG,UAOM,EAENC,YAAA,CAAiCC,yBAAA,GACjCD,YAAA,CAAiCC,yBAAA,GACjCD,YAAA,CAAiCC,yBAAA,E,GAGrCL,mBAAA,gBAAmB,EACnBM,UAiBM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}