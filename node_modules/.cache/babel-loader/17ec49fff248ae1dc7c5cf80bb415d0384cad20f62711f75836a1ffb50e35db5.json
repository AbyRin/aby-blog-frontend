{"ast":null,"code":"export const myFunction = () => {\n  // 图书馆页面-功能模块: 电梯\n  // 功能一: 点击 Top: 页面顶部\n  (function () {\n    // 功能一: 点击 Top: 页面顶部\n    const backTop = document.querySelector('#backTop');\n    if (backTop) {\n      backTop.addEventListener('click', function () {\n        window.scrollTo(0, 0);\n      });\n    }\n  })();\n\n  // 功能二: 点击分类 跳转到 对应页面 (与功能三相对)\n  (function () {\n    const list = document.querySelector('.elevator_list');\n    const top_con = document.querySelector('.top_container');\n    if (list) {\n      list.addEventListener('click', function (e) {\n        if (e.target.tagName === 'A' && e.target.dataset.name) {\n          const old = document.querySelector('.elevator_list .active');\n          if (old) old.classList.remove('active');\n          e.target.classList.add('active');\n          const targetElement = document.querySelector(`[data-wbdivname=\"${e.target.dataset.name}\"]`);\n          if (targetElement) {\n            const top = targetElement.offsetTop - top_con.clientHeight;\n            document.documentElement.scrollTop = top;\n          }\n        }\n      });\n    }\n  })();\n\n  // 功能三: 滑动页面 跳转到 对应分类 (与功能二相对)\n  window.addEventListener('scroll', function () {\n    const top_con = document.querySelector('.top_container');\n    const old = document.querySelector('.elevator_list .active');\n    if (old) old.classList.remove('active');\n    const wb3 = document.querySelector('.elevator_list li a[data-name=\"wb3\"]');\n    const wb4 = document.querySelector('.elevator_list li a[data-name=\"wb4\"]');\n    const wb5 = document.querySelector('.elevator_list li a[data-name=\"wb5\"]');\n    const wb6 = document.querySelector('.elevator_list li a[data-name=\"wb6\"]');\n    const wbdiv3 = document.querySelector('[data-wbdivname=\"wb3\"]');\n    const wbdiv4 = document.querySelector('[data-wbdivname=\"wb4\"]');\n    const wbdiv5 = document.querySelector('[data-wbdivname=\"wb5\"]');\n    const wbdiv6 = document.querySelector('[data-wbdivname=\"wb6\"]');\n    const n = document.documentElement.scrollTop;\n    const rect3 = wbdiv3 ? wbdiv3.getBoundingClientRect() : null;\n    const rect4 = wbdiv4 ? wbdiv4.getBoundingClientRect() : null;\n    const rect5 = wbdiv5 ? wbdiv5.getBoundingClientRect() : null;\n    const rect6 = wbdiv6 ? wbdiv6.getBoundingClientRect() : null;\n    if (wb3 && wbdiv3 && n >= rect3.top && n < rect4.top - top_con.clientHeight) {\n      wb3.classList.add('active');\n    } else if (wb4 && wbdiv4 && n >= rect4.top - top_con.clientHeight && n < rect5.top - top_con.clientHeight) {\n      wb4.classList.add('active');\n    } else if (wb5 && wbdiv5 && n >= rect5.top - top_con.clientHeight && n < rect6.top - top_con.clientHeight) {\n      wb5.classList.add('active');\n    } else if (wb6 && wbdiv6 && n >= rect6.top - top_con.clientHeight) {\n      wb6.classList.add('active');\n    }\n  });\n};","map":{"version":3,"names":["myFunction","backTop","document","querySelector","addEventListener","window","scrollTo","list","top_con","e","target","tagName","dataset","name","old","classList","remove","add","targetElement","top","offsetTop","clientHeight","documentElement","scrollTop","wb3","wb4","wb5","wb6","wbdiv3","wbdiv4","wbdiv5","wbdiv6","n","rect3","getBoundingClientRect","rect4","rect5","rect6"],"sources":["D:/IDEAWorkSpace/aby-blog-v2/src/js/library.js"],"sourcesContent":["export const myFunction = () => {\r\n    // 图书馆页面-功能模块: 电梯\r\n    // 功能一: 点击 Top: 页面顶部\r\n    (function () {\r\n        // 功能一: 点击 Top: 页面顶部\r\n        const backTop = document.querySelector('#backTop')\r\n        if (backTop) {\r\n            backTop.addEventListener('click', function () {\r\n            window.scrollTo(0, 0);\r\n            });\r\n        }\r\n    })();\r\n\r\n    // 功能二: 点击分类 跳转到 对应页面 (与功能三相对)\r\n    (function () {\r\n        const list = document.querySelector('.elevator_list');\r\n        const top_con = document.querySelector('.top_container');\r\n\r\n        if (list) {\r\n            list.addEventListener('click', function (e) {\r\n                if (e.target.tagName === 'A' && e.target.dataset.name) {\r\n                    const old = document.querySelector('.elevator_list .active');\r\n                    if (old) old.classList.remove('active');\r\n\r\n                    e.target.classList.add('active');\r\n\r\n                    const targetElement = document.querySelector(`[data-wbdivname=\"${e.target.dataset.name}\"]`);\r\n\r\n                    if (targetElement) {\r\n                        const top = targetElement.offsetTop - top_con.clientHeight;\r\n                        document.documentElement.scrollTop = top;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    })();\r\n\r\n    // 功能三: 滑动页面 跳转到 对应分类 (与功能二相对)\r\n    window.addEventListener('scroll', function () {\r\n        const top_con = document.querySelector('.top_container');\r\n        const old = document.querySelector('.elevator_list .active');\r\n\r\n        if (old) old.classList.remove('active');\r\n\r\n        const wb3 = document.querySelector('.elevator_list li a[data-name=\"wb3\"]');\r\n        const wb4 = document.querySelector('.elevator_list li a[data-name=\"wb4\"]');\r\n        const wb5 = document.querySelector('.elevator_list li a[data-name=\"wb5\"]');\r\n        const wb6 = document.querySelector('.elevator_list li a[data-name=\"wb6\"]');\r\n\r\n        const wbdiv3 = document.querySelector('[data-wbdivname=\"wb3\"]');\r\n        const wbdiv4 = document.querySelector('[data-wbdivname=\"wb4\"]');\r\n        const wbdiv5 = document.querySelector('[data-wbdivname=\"wb5\"]');\r\n        const wbdiv6 = document.querySelector('[data-wbdivname=\"wb6\"]');\r\n\r\n        const n = document.documentElement.scrollTop;\r\n\r\n        const rect3 = wbdiv3 ? wbdiv3.getBoundingClientRect() : null;\r\n        const rect4 = wbdiv4 ? wbdiv4.getBoundingClientRect() : null;\r\n        const rect5 = wbdiv5 ? wbdiv5.getBoundingClientRect() : null;\r\n        const rect6 = wbdiv6 ? wbdiv6.getBoundingClientRect() : null;\r\n\r\n        if (wb3 && wbdiv3 && n >= rect3.top && n < rect4.top - top_con.clientHeight) {\r\n            wb3.classList.add('active');\r\n        } else if (wb4 && wbdiv4 && n >= rect4.top - top_con.clientHeight && n < rect5.top - top_con.clientHeight) {\r\n            wb4.classList.add('active');\r\n        } else if (wb5 && wbdiv5 && n >= rect5.top - top_con.clientHeight && n < rect6.top - top_con.clientHeight) {\r\n            wb5.classList.add('active');\r\n        } else if (wb6 && wbdiv6 && n >= rect6.top - top_con.clientHeight) {\r\n            wb6.classList.add('active');\r\n        }\r\n    });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}