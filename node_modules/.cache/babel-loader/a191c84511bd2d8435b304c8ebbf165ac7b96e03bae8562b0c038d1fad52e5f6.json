{"ast":null,"code":"document.addEventListener('DOMContentLoaded', function () {\n  // 图书馆页面-功能模块: 电梯\n\n  // 功能一: 点击 Top: 页面顶部\n  (function () {\n    // 功能一: 点击 Top: 页面顶部\n    const backTop = document.querySelector('#backTop');\n    backTop.addEventListener('click', function () {\n      window.scrollTo(0, 0);\n    });\n  })();\n\n  // 功能二: 点击分类 跳转到 对应页面 (与功能三相对)\n  (function () {\n    // 获取对象\n    const list = document.querySelector('.elevator_list');\n    const top_con = document.querySelector('.top_container'); // 用于：减去 top 高度\n\n    // 绑定点击事件\n    list.addEventListener('click', function (e) {\n      // 判断: 点击a标签 且 标签含有自定义类名name --> 真\n      // Tip: target事件 - 返回触发事件的元素\n      if (e.target.tagName === 'A' && e.target.dataset.name) {\n        // 先移除已有的 avtive类 \n        // 尝试获取已有 active类 的对象 ...\n        const old = document.querySelector('.elevator_list .active');\n        // ... 如果已有, 就移除类\n        if (old) {\n          old.classList.remove('active');\n        }\n\n        // 当前元素添加 active \n        e.target.classList.add('active');\n\n        // 获得对应 分类区 的 offsetTop\n        // console.log(`[data-wbdivname = \"${e.target.dataset.name}\"]`)\n        const top = document.querySelector(`[data-wbdivname = \"${e.target.dataset.name}\"]`).offsetTop - top_con.clientHeight;\n        // 让页面滚动到对应的位置\n        document.documentElement.scrollTop = top;\n      }\n    });\n  })();\n\n  // 功能三: 滑动页面 跳转到 对应分类 (与功能二相对)\n  window.addEventListener('scroll', function () {\n    const top_con = document.querySelector('.top_container'); // 用于：减去 top 高度\n\n    // 1. 先移除已有的 avtive类 \n    // 尝试获取已有 active类 的对象 ...\n    const old = document.querySelector('.elevator_list .active');\n    // ... 如果已有, 就移除类\n    if (old) {\n      old.classList.remove('active');\n    }\n\n    // 2. 判断页面当前滑动的位置, 选择小盒子\n    // 获取分类class 和 页面滑动像素n\n    const wb3 = document.querySelector('.elevator_list li a[data-name = \"wb3\"]');\n    const wb4 = document.querySelector('.elevator_list li a[data-name = \"wb4\"]');\n    const wb5 = document.querySelector('.elevator_list li a[data-name = \"wb5\"]');\n    const wb6 = document.querySelector('.elevator_list li a[data-name = \"wb6\"]');\n    const wbdiv3 = document.querySelector(`[data-wbdivname = \"wb3\"]`);\n    const wbdiv4 = document.querySelector(`[data-wbdivname = \"wb4\"]`);\n    const wbdiv5 = document.querySelector(`[data-wbdivname = \"wb5\"]`);\n    const wbdiv6 = document.querySelector(`[data-wbdivname = \"wb6\"]`);\n    const n = document.documentElement.scrollTop;\n\n    // 3. 匹配\n    if (n >= wbdiv3.offsetTop - top_con.clientHeight && n < wbdiv4.offsetTop - top_con.clientHeight) {\n      wb3.classList.add('active');\n    } else if (n >= wbdiv4.offsetTop - top_con.clientHeight && n < wbdiv5.offsetTop - top_con.clientHeight) {\n      wb4.classList.add('active');\n    } else if (n >= wbdiv5.offsetTop - top_con.clientHeight && n < wbdiv6.offsetTop - top_con.clientHeight) {\n      wb5.classList.add('active');\n    } else if (n >= wbdiv6.offsetTop - top_con.clientHeight) {\n      wb6.classList.add('active');\n    }\n  });\n});","map":{"version":3,"names":["document","addEventListener","backTop","querySelector","window","scrollTo","list","top_con","e","target","tagName","dataset","name","old","classList","remove","add","top","offsetTop","clientHeight","documentElement","scrollTop","wb3","wb4","wb5","wb6","wbdiv3","wbdiv4","wbdiv5","wbdiv6","n"],"sources":["D:/IDEAWorkSpace/aby-blog-v2/src/js/library.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n   // 图书馆页面-功能模块: 电梯\r\n\r\n    // 功能一: 点击 Top: 页面顶部\r\n    (function () {\r\n        // 功能一: 点击 Top: 页面顶部\r\n        const backTop = document.querySelector('#backTop')\r\n        backTop.addEventListener('click', function () {\r\n            window.scrollTo(0, 0)\r\n        })\r\n    })();\r\n\r\n    // 功能二: 点击分类 跳转到 对应页面 (与功能三相对)\r\n    (function () {\r\n        // 获取对象\r\n        const list = document.querySelector('.elevator_list')\r\n        const top_con = document.querySelector('.top_container')  // 用于：减去 top 高度\r\n\r\n        // 绑定点击事件\r\n        list.addEventListener('click', function (e) {\r\n            // 判断: 点击a标签 且 标签含有自定义类名name --> 真\r\n            // Tip: target事件 - 返回触发事件的元素\r\n            if (e.target.tagName === 'A' && e.target.dataset.name) {\r\n\r\n                // 先移除已有的 avtive类 \r\n                // 尝试获取已有 active类 的对象 ...\r\n                const old = document.querySelector('.elevator_list .active')\r\n                // ... 如果已有, 就移除类\r\n                if (old) {old.classList.remove('active')}\r\n\r\n                // 当前元素添加 active \r\n                e.target.classList.add('active')\r\n\r\n                // 获得对应 分类区 的 offsetTop\r\n                // console.log(`[data-wbdivname = \"${e.target.dataset.name}\"]`)\r\n                const top = document.querySelector(`[data-wbdivname = \"${e.target.dataset.name}\"]`).offsetTop - top_con.clientHeight\r\n                // 让页面滚动到对应的位置\r\n                document.documentElement.scrollTop = top\r\n            }\r\n        })\r\n    })();\r\n\r\n\r\n    // 功能三: 滑动页面 跳转到 对应分类 (与功能二相对)\r\n    window.addEventListener('scroll', function () {\r\n        const top_con = document.querySelector('.top_container')  // 用于：减去 top 高度\r\n\r\n        // 1. 先移除已有的 avtive类 \r\n        // 尝试获取已有 active类 的对象 ...\r\n        const old = document.querySelector('.elevator_list .active')\r\n        // ... 如果已有, 就移除类\r\n        if (old) {old.classList.remove('active')}\r\n\r\n        // 2. 判断页面当前滑动的位置, 选择小盒子\r\n        // 获取分类class 和 页面滑动像素n\r\n        const wb3 = document.querySelector('.elevator_list li a[data-name = \"wb3\"]')\r\n        const wb4 = document.querySelector('.elevator_list li a[data-name = \"wb4\"]')\r\n        const wb5 = document.querySelector('.elevator_list li a[data-name = \"wb5\"]')\r\n        const wb6 = document.querySelector('.elevator_list li a[data-name = \"wb6\"]')\r\n\r\n        const wbdiv3 = document.querySelector(`[data-wbdivname = \"wb3\"]`)\r\n        const wbdiv4 = document.querySelector(`[data-wbdivname = \"wb4\"]`)\r\n        const wbdiv5 = document.querySelector(`[data-wbdivname = \"wb5\"]`)\r\n        const wbdiv6 = document.querySelector(`[data-wbdivname = \"wb6\"]`)\r\n\r\n        const n = document.documentElement.scrollTop\r\n\r\n        // 3. 匹配\r\n        if (n >= wbdiv3.offsetTop - top_con.clientHeight && n < wbdiv4.offsetTop - top_con.clientHeight) {\r\n            wb3.classList.add('active')\r\n        } else if (n >= wbdiv4.offsetTop - top_con.clientHeight && n < wbdiv5.offsetTop - top_con.clientHeight) {\r\n            wb4.classList.add('active')\r\n        } else if (n >= wbdiv5.offsetTop - top_con.clientHeight && n < wbdiv6.offsetTop - top_con.clientHeight) {\r\n            wb5.classList.add('active')\r\n        } else if (n >= wbdiv6.offsetTop - top_con.clientHeight) {\r\n            wb6.classList.add('active')\r\n        }\r\n    })\r\n  });\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}