{"ast":null,"code":"// 商店页面-功能模块: 电梯\n// 功能一: 页面滑动-显示/隐藏 (1)搜索栏; (2)电梯\n// 功能二: 点击 Top: 页面顶部\n(function () {\n  const search = document.querySelector('.search_div'); // (1)搜索栏\n  const backTop = document.querySelector('#backTop');\n  if (search) {\n    // 2. 卷去html头部 到达 商品搜索条-顶部坐标 时, 令 商品搜索条 的top = 0\n    window.addEventListener('scroll', function () {\n      search.style.top = document.documentElement.scrollTop >= search.offsetTop ? 0 : '-100px';\n    });\n  }\n\n  // 功能二: 点击 Top: 页面顶部\n  if (backTop) {\n    backTop.addEventListener('click', function () {\n      window.scrollTo(0, 0);\n    });\n  }\n})();\n\n// 功能三: 点击分类 跳转到 对应页面 (与功能四相对)\n(function () {\n  const list = document.querySelector('.elevator_list');\n  if (list) {\n    list.addEventListener('click', function (e) {\n      if (e.target.tagName === 'A' && e.target.dataset.name) {\n        // 排他\n        const old = document.querySelector('.elevator_list .active');\n        if (old) old.classList.remove('active');\n        e.target.classList.add('active');\n\n        // Bug，等待修复\n        const targetElement = document.querySelector(`.${e.target.dataset.name}`);\n        if (targetElement) {\n          const top = targetElement.offsetTop;\n          // 让页面滚动到对应的位置\n          document.documentElement.scrollTop = top;\n        }\n      }\n    });\n  }\n})();\n\n// 功能四: 滑动页面 跳转到 对应分类 (与功能三相对)\nwindow.addEventListener('scroll', function () {\n  // 排他\n  const old = document.querySelector('.elevator_list .active');\n  if (old) old.classList.remove('active');\n\n  // 判断页面当前滑动的位置, 选择小盒子\n  // 获取分类 class 和 页面滑动像素 n\n  const class_1 = document.querySelector('.elevator_list li a[data-name=\"class_1\"]');\n  const class_2 = document.querySelector('.elevator_list li a[data-name=\"class_2\"]');\n  const class_3 = document.querySelector('.elevator_list li a[data-name=\"class_3\"]');\n  const class_4 = document.querySelector('.elevator_list li a[data-name=\"class_4\"]');\n  const n = document.documentElement.scrollTop;\n\n  // 匹配\n  if (class_1 && class_1.dataset && n >= class_1.offsetTop && n < class_2.offsetTop) {\n    document.querySelector('[data-name=\"class_1\"]').classList.add('active');\n  } else if (class_2 && class_2.dataset && n >= class_2.offsetTop && n < class_3.offsetTop) {\n    document.querySelector('[data-name=\"class_2\"]').classList.add('active');\n  } else if (class_3 && class_3.dataset && n >= class_3.offsetTop && n < class_4.offsetTop) {\n    document.querySelector('[data-name=\"class_3\"]').classList.add('active');\n  } else if (class_4 && class_4.dataset && n >= class_4.offsetTop) {\n    document.querySelector('[data-name=\"class_4\"]').classList.add('active');\n  }\n});","map":{"version":3,"names":["search","document","querySelector","backTop","window","addEventListener","style","top","documentElement","scrollTop","offsetTop","scrollTo","list","e","target","tagName","dataset","name","old","classList","remove","add","targetElement","class_1","class_2","class_3","class_4","n"],"sources":["D:/IDEAWorkSpace/aby-blog-v2/src/js/store.js"],"sourcesContent":["// 商店页面-功能模块: 电梯\r\n// 功能一: 页面滑动-显示/隐藏 (1)搜索栏; (2)电梯\r\n// 功能二: 点击 Top: 页面顶部\r\n(function () {\r\n    const search = document.querySelector('.search_div');  // (1)搜索栏\r\n    const backTop = document.querySelector('#backTop');\r\n\r\n    if (search) {\r\n        // 2. 卷去html头部 到达 商品搜索条-顶部坐标 时, 令 商品搜索条 的top = 0\r\n        window.addEventListener('scroll', function () {\r\n            search.style.top = document.documentElement.scrollTop >= search.offsetTop ? 0 : '-100px';\r\n        });\r\n    }\r\n\r\n    // 功能二: 点击 Top: 页面顶部\r\n    if (backTop) {\r\n        backTop.addEventListener('click', function () {\r\n            window.scrollTo(0, 0);\r\n        });\r\n    }\r\n})();\r\n\r\n// 功能三: 点击分类 跳转到 对应页面 (与功能四相对)\r\n(function () {\r\n    const list = document.querySelector('.elevator_list');\r\n    \r\n    if (list) {\r\n        list.addEventListener('click', function (e) {\r\n            if (e.target.tagName === 'A' && e.target.dataset.name) {\r\n                // 排他\r\n                const old = document.querySelector('.elevator_list .active');\r\n                if (old) old.classList.remove('active');\r\n\r\n                e.target.classList.add('active');\r\n\r\n                // Bug，等待修复\r\n                const targetElement = document.querySelector(`.${e.target.dataset.name}`);\r\n                if (targetElement) {\r\n                    const top = targetElement.offsetTop;\r\n                    // 让页面滚动到对应的位置\r\n                    document.documentElement.scrollTop = top;\r\n                }\r\n            }\r\n        });\r\n    }\r\n})();\r\n\r\n// 功能四: 滑动页面 跳转到 对应分类 (与功能三相对)\r\nwindow.addEventListener('scroll', function () {\r\n    // 排他\r\n    const old = document.querySelector('.elevator_list .active');\r\n    if (old) old.classList.remove('active');\r\n\r\n    // 判断页面当前滑动的位置, 选择小盒子\r\n    // 获取分类 class 和 页面滑动像素 n\r\n    const class_1 = document.querySelector('.elevator_list li a[data-name=\"class_1\"]');\r\n    const class_2 = document.querySelector('.elevator_list li a[data-name=\"class_2\"]');\r\n    const class_3 = document.querySelector('.elevator_list li a[data-name=\"class_3\"]');\r\n    const class_4 = document.querySelector('.elevator_list li a[data-name=\"class_4\"]');\r\n    const n = document.documentElement.scrollTop;\r\n\r\n    // 匹配\r\n    if (class_1 && class_1.dataset && n >= class_1.offsetTop && n < class_2.offsetTop) {\r\n        document.querySelector('[data-name=\"class_1\"]').classList.add('active');\r\n    } else if (class_2 && class_2.dataset && n >= class_2.offsetTop && n < class_3.offsetTop) {\r\n        document.querySelector('[data-name=\"class_2\"]').classList.add('active');\r\n    } else if (class_3 && class_3.dataset && n >= class_3.offsetTop && n < class_4.offsetTop) {\r\n        document.querySelector('[data-name=\"class_3\"]').classList.add('active');\r\n    } else if (class_4 && class_4.dataset && n >= class_4.offsetTop) {\r\n        document.querySelector('[data-name=\"class_4\"]').classList.add('active');\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}